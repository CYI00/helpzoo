<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="noticeMapper">

	<resultMap type="Board" id="boardResultSet">
        <id property="boardNo" column="BOARD_NO"/>
        <result property="boardTitle" column="BOARD_TITLE"/>
        <result property="boardContent" column="BOARD_CONTENT"/>
        <result property="readCount" column="READ_COUNT"/>
        <result property="boardCreateDate" column="BOARD_CREATE_DT"/>
        <result property="boardModifyDate" column="BOARD_MODIFY_DT"/>
        <result property="boardWriter" column="MEMBER_ID"/>
        <result property="boardType" column="BOARD_TYPE"/>
        <result property="boardName" column="BOARD_NM"/>
    </resultMap>
    
    <!-- 공지사항 목록 조회 -->
    <select id="selectList" parameterType="_int" resultMap="boardResultSet">
    	SELECT *
		FROM v_board
		WHERE board_type = #{type}
		ORDER BY BOARD_NO DESC
    </select>
    
    <!-- 공지사항 글 조회 -->
    <select id="selectNotice" parameterType="_int" resultMap="boardResultSet">
    	SELECT *
		FROM V_BOARD
		WHERE BOARD_NO = #{boardNo}
		AND BOARD_STATUS = 'Y'
    </select>
    
    <!-- 공지사항 조회 수 증가 -->
    <update id="increaseCount" parameterType="_int">
    	UPDATE BOARD
		SET READ_COUNT = READ_COUNT+1
		WHERE BOARD_NO = #{boardNo}
    </update>

</mapper>
