<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="adminConfMapper">

	<resultMap type="Member" id="memberResultSet">
	<id property="memberNo" column="MEMBER_NO"/>
	<result property="memberId" column="MEMBER_ID"/>
	<result property="memberPwd" column="MEMBER_PWD"/>
	<result property="memberName" column="MEMBER_NM"/>
	<result property="memberPhone" column="MEMBER_PHONE"/>
	<result property="memberEmail" column="MEMBER_EMAIL"/>
	<result property="memberAddress" column="MEMBER_ADDR"/>
	<result property="memberPetType" column="MEMBER_PET_TYPE"/>
	<result property="memberPetName" column="MEMBER_PET_NAME"/>
	<result property="memberEnrollDate" column="MEMBER_ENROLL_DATE"/>
	<result property="memberStatus" column="MEMBER_STATUS"/>
	<result property="memberGrade" column="MEMBER_GRADE"/>
	</resultMap>
	
	<!-- 멤버 목록 -->
	<select id="memberList" resultMap="memberResultSet">
		SELECT member_no, member_id, member_nm,
            member_phone, member_email,
            member_pet_type, member_pet_name,
            member_status, member_grade
		FROM member
		WHERE MEMBER_NO NOT IN(1)
	</select>
	
	<!-- 멤버 계정 상태 확인 -->
	<select id="selMember" parameterType="_int" resultType="_int">
		SELECT COUNT(*)
		FROM member
		WHERE MEMBER_NO = #{memberNo}
		AND MEMBER_STATUS = 'Y'
	</select>
	
	<!-- 멤버 계정 정지 -->
	<update id="delMember" parameterType="_int">
		UPDATE member
		SET member_status = 'N'
		WHERE member_no = #{memberNo}
	</update>

</mapper>