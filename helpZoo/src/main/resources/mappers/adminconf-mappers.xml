<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="adminConfMapper">

	<resultMap type="Member" id="memberResultSet">
	<id property="memberNo" column="MEMBER_NO"/>
	<result property="memberId" column="MEMBER_ID"/>
	<result property="memberPwd" column="MEMBER_PWD"/>
	<result property="memberName" column="MEMBER_NM"/>
	<result property="memberPhone" column="MEMBER_PHONE"/>
	<result property="memberEmail" column="MEMBER_EMAIL"/>
	<result property="memberAddress" column="MEMBER_ADDR"/>
	<result property="memberPetType" column="MEMBER_PET_TYPE"/>
	<result property="memberPetName" column="MEMBER_PET_NAME"/>
	<result property="memberEnrollDate" column="MEMBER_ENROLL_DATE"/>
	<result property="memberStatus" column="MEMBER_STATUS"/>
	<result property="memberGrade" column="MEMBER_GRADE"/>
	</resultMap>
	
	<resultMap type="ABoard" id="boardResultSet">
        <id property="boardNo" column="BOARD_NO"/>
        <result property="boardTitle" column="BOARD_TITLE"/>
        <result property="boardContent" column="BOARD_CONTENT"/>
        <result property="readCount" column="READ_COUNT"/>
        <result property="boardCreateDate" column="BOARD_CREATE_DT"/>
        <result property="boardModifyDate" column="BOARD_MODIFY_DT"/>
        <result property="boardWriter" column="MEMBER_ID"/>
        <result property="boardType" column="BOARD_TYPE"/>
        <result property="boardName" column="BOARD_NM"/>
        <result property="boardStatus" column="BOARD_STATUS"/>
    </resultMap>
	
	<resultMap type="Attachment" id="attachmentResultSet">
    	<id property="fileNo" column="FILE_NO"/>
    	<result property="parentBoardNo" column="PARENT_BOARD_NO"/>
    	<result property="fileOriginName" column="FILE_ORIGIN_NAME"/>
    	<result property="fileChangeName" column="FILE_CHANGE_NAME"/>
    	<result property="filePath" column="FILE_PATH"/>
    	<result property="fileLevel" column="FILE_LEVEL"/>
    </resultMap>
	
	
	<!-- 멤버 목록 -->
	<select id="memberList" resultMap="memberResultSet">
		SELECT member_no, member_id, member_nm,
            member_phone, member_email,
            member_pet_type, member_pet_name,
            member_status, member_grade
		FROM member
		WHERE MEMBER_NO NOT IN(1)
	</select>
	
	<!-- 멤버 계정 상태 확인 -->
	<select id="selMember" parameterType="_int" resultType="_int">
		SELECT COUNT(*)
		FROM member
		WHERE MEMBER_NO = #{memberNo}
		AND MEMBER_STATUS = 'Y'
	</select>
	
	<!-- 멤버 계정 정지 -->
	<update id="delMember" parameterType="_int">
		UPDATE member
		SET member_status = 'N'
		WHERE member_no = #{memberNo}
	</update>
	
	<!-- 공지사항 관리 페이지 리스트 -->
	<select id="noticeList" resultMap="boardResultSet">
		SELECT *
		FROM v_board
		WHERE board_type = 5
	</select>
	
	<!-- 이벤트 관리 페이지 리스트 -->
	<select id="eventList" resultMap="boardResultSet">
		SELECT *
		FROM v_board
		WHERE board_type = 6
	</select>

</mapper>